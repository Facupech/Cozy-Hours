import{u as S,b as P,a as e,j as n,F as y}from"./index-BP8PmJG4.js";import{h as C,r as c,u as E,L as p}from"./react-vendor-DqtZkGaG.js";/* empty css                  */import"./supabase-ulL4C6uA.js";const q=()=>{C();const[a,h]=c.useState({email:"",password:"",confirmPassword:""}),[r,i]=c.useState({}),[l,d]=c.useState(!1),[g,F]=c.useState(!1),[f,L]=c.useState(!1),{signUp:w}=S(),{startPremiumTrial:b}=P(),v=E(),m=s=>{const{name:t,value:o}=s.target;h(u=>({...u,[t]:o})),r[t]&&i(u=>({...u,[t]:""}))},N=()=>{const s={};return a.email?/\S+@\S+\.\S+/.test(a.email)||(s.email="El correo electrónico no es válido"):s.email="Se requiere correo electrónico",a.password?a.password.length<6&&(s.password="La contraseña debe tener al menos 6 caracteres"):s.password="Se requiere contraseña",a.confirmPassword?a.password!==a.confirmPassword&&(s.confirmPassword="Las contraseñas no coinciden"):s.confirmPassword="Por favor confirma tu contraseña",i(s),Object.keys(s).length===0};return e("div",{className:"auth-page",children:n("div",{className:"auth-container",children:[n("div",{className:"auth-header",children:[e(p,{to:"/",className:"back-link",children:"← Volver a Inicio"}),e("h1",{className:"auth-title",children:"Crea tu cuenta"}),e("p",{className:"auth-subtitle",children:"Únete a Cozy Hours y comienza tu viaje de productividad emocional"})]}),n("form",{className:"auth-form",onSubmit:async s=>{if(s.preventDefault(),!!N()&&!(g&&!f)){d(!0),i({});try{const{data:t,error:o}=await w(a.email,a.password);if(o){o.message&&(o.message.includes("ya está registrado")||o.message.includes("already registered")||o.message.includes("already in use")||o.message.includes("ya está en uso"))?i({general:"Este correo electrónico ya está registrado. Por favor, inicia sesión o utiliza otro correo."}):o.message&&o.message.includes("La contraseña debe tener al menos 6 caracteres")?i({password:"La contraseña debe tener al menos 6 caracteres"}):i({general:o.message||"Ocurrió un error al registrar el usuario. Por favor, inténtalo de nuevo."}),d(!1);return}f&&b(),v("/emotional-setup")}catch{i({general:"Se produjo un error inesperado. Inténtalo de nuevo."})}finally{d(!1)}}},children:[r.general&&e("div",{className:"error-message",children:r.general}),n("div",{className:"form-group",children:[e("label",{htmlFor:"email",className:"form-label",children:"Email"}),e("input",{type:"email",id:"email",name:"email",value:a.email,onChange:m,className:`form-input ${r.email?"error":""}`,placeholder:"Escribe tu email",disabled:l}),r.email&&e("span",{className:"field-error",children:r.email})]}),n("div",{className:"form-group",children:[e("label",{htmlFor:"password",className:"form-label",children:"Contraseña"}),e("input",{type:"password",id:"password",name:"password",value:a.password,onChange:m,className:`form-input ${r.password?"error":""}`,placeholder:"Crear contraseña (min. 6 caracteres)",disabled:l}),r.password&&e("span",{className:"field-error",children:r.password})]}),n("div",{className:"form-group",children:[e("label",{htmlFor:"confirmPassword",className:"form-label",children:"Confirmar Contraseña"}),e("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:a.confirmPassword,onChange:m,className:`form-input ${r.confirmPassword?"error":""}`,placeholder:"Confirmar contraseña",disabled:l}),r.confirmPassword&&e("span",{className:"field-error",children:r.confirmPassword})]}),e("button",{type:"submit",className:"btn btn-primary btn-full",disabled:l,children:l?n(y,{children:[e("span",{className:"loading-spinner"}),"Creando cuenta..."]}):"Crear cuenta"})]}),e("div",{className:"auth-footer",children:n("p",{children:["¿Ya tienes una cuenta?"," ",e(p,{to:"/login",className:"auth-link",children:"Inicie sesión aquí"})]})})]})})};export{q as default};
//# sourceMappingURL=RegisterPage-D2rcf2e8.js.map
